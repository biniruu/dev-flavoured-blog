---
title: Reactì—ì„œ CORS ì •ì±…ì„ ìš°íšŒí•˜ê¸° ìœ„í•´ package.jsonì— proxyë¥¼ ì„¤ì •í–ˆë‹¤. ê·¸ ë‹¤ìŒì—”?
date: 2023-08-14
description: tsconfigë¥¼ ìˆ˜ì •í•˜ë©´ ë ì§€ë„...
tags:
  - react
  - cors
  - proxy
---

## ì‚¬ê±´ì˜ ë°œë‹¨

ì™¸ë¶€ì—ì„œ ë°ì´í„°ë¥¼ ë°›ì•„ì™€ í™”ë©´ì—ì„œ ë³´ì—¬ì£¼ë ¤ê³  í–ˆëŠ”ë°

<br />

```javascript
function Comp() {
  const [data, setData] = useState('')

  useEffect(() => {
    // 1. ë°ì´í„°ë¥¼ ë°›ì•„ì™€ì„œ
    fetch('https://news.sample.com/channel/rightbar?officeId=296')
      .then(res => res.json())
      .then(res => setData(res.data))
      .catch(console.error)
  }, [])

  return (
    <>
      <h1>NEWS</h1>
      // 2. í™”ë©´ì— ë³´ì—¬ì¤€ë‹¤
      <div>{data}</div>
    </>
  )
}
```

<br />

ê·¸ë§Œ CORS ì—ëŸ¬ë¥¼ ë§ˆì£¼ì¹˜ê³  ë§ì•˜ë‹¤.

<br />

> Access to fetch at 'https://news.sample.com/channel/rightbar?officeId=296' from origin 'http://localhost:3000' has been blocked by CORS policy: No 'Access-Control-Allow-Origin' header is present on the requested resource. If an opaque response serves your needs, set the request's mode to 'no-cors' to fetch the resource with CORS disabled.

<br />

í”„ë¡ì‹œë¡œ ìš°íšŒí•´ì•¼ì§€ğŸ˜œ Create React Appìœ¼ë¡œ ì„¤ì¹˜í•œ Reactë‹ˆê¹Œ package.jsonì— proxy ì˜µì…˜ë§Œ ì¶”ê°€í•´ì£¼ë©´ ë˜ê² ì§€?

<br />

```json title=package.json
{
  "proxy": "https://news.sample.com"
}
```

<br />

ì™„ì„±!! ì–´ë”” ë¸Œë¼ìš°ì € ìƒˆë¡œê³ ì¹¨ì„...

ì—‡ğŸ˜³ ì—ëŸ¬ê°€ ê·¸ëŒ€ë¡œë„¤. ì™œì§€?

<br />

## ëë‚  ë•Œê¹Œì§€ ëë‚œ ê²Œ ì•„ë‹ˆë‹¤

Reactì—ì„œ ê°€ì¥ ì‰½ê²Œ í”„ë¡ì‹œë¥¼ ì„¤ì •í•  ìˆ˜ ìˆëŠ” ë°©ë²•ìœ¼ë¡œ package.jsonì— proxy ì˜µì…˜ì„ ì„¤ì •í•˜ëŠ” ê²ƒì„ ì˜ ì•Œê³  ê³„ì‹¤ í…ë°ìš”. ì´ê²Œ ì²˜ìŒ í•˜ëŠ” ì‚¬ëŒì€ ë”± ì—¬ê¸°ê¹Œì§€ë§Œ í•˜ë©´ ë˜ëŠ” ì¤„ ì•„ëŠ” ê²½ìš°ë„ ìˆë”ë¼ê³ ìš”.

í”„ë¡ì‹œë¥¼ ì„¤ì •í•˜ê³  ë‚˜ë©´ í•´ì•¼ í•  ì¼ì´ í•˜ë‚˜ ë” ìˆì–´ìš”. ë°”ë¡œ ë°ì´í„°ë¥¼ ê°€ì§€ê³  ì˜¤ëŠ” ë¶€ë¶„ì—ì„œ proxyì— ì…ë ¥í•œ urlì„ ì‚­ì œí•˜ëŠ” ê²ƒì´ì—ìš”.

<br />

```javascript
function Comp() {
  const [data, setData] = useState('')

  useEffect(() => {
    // https://news.sample.comë¥¼ ì‚­ì œí•œë‹¤
    fetch('/channel/rightbar?officeId=296')
      .then(res => res.json())
      .then(res => setData(res.data))
      .catch(console.error)
  }, [])

  return (
    <>
      <h1>NEWS</h1>
      <div>{data}</div>
    </>
  )
}
```

<br />

ì´ì œ ì—ëŸ¬ëŠ” ì‚¬ë¼ì§€ê³  ì˜ë„í•œ ëŒ€ë¡œ í™”ë©´ì— ë°ì´í„°ê°€ ì¶œë ¥ë  ê±°ì—ìš”.ğŸ¥³
